---
title: "YAML Configuration"
description: "Defining workflows in YAML"
---

# üìÑ YAML Configuration

While LangSwarm recommends the [Python Builder API](/user-guides/workflows) for most use cases, YAML is fully supported for declarative configuration, allowing you to define agents and workflows without writing code.

## üì• Loading YAML

Use `load_yaml_workflows` to parse your configuration file into executable `Workflow` objects.

```python
from langswarm.core.workflows import load_yaml_workflows, get_workflow_engine

# 1. Load
workflows = await load_yaml_workflows("my_swarm.yaml")

# 2. Execute
engine = get_workflow_engine()
result = await engine.execute_workflow(workflows[0], {"input": "Analyze this data"})
```

## üìù Schema Reference

### 1. Simple Linear Chain
The most common pattern. A list of agents executed in order.

```yaml
# simple.yaml
workflows:
  news_pipeline:
    name: "Financial News Analysis"
    # Simple list of agent IDs
    steps:
      - reader_agent
      - analyst_agent
      - advisor_agent
```

### 2. Complex Workflow
For steps that require dependencies, conditions, or specific variable mapping.

```yaml
# complex.yaml
workflows:
  data_pipeline:
    name: "Advanced Data Pipeline"
    steps:
      - id: extract
        agent: extractor_agent
        # Map input variables using ${var} syntax
        input: "Extract data from: ${input}"
        
      - id: validate
        agent: validator_agent
        input: "${extract}" # Output of previous step
        depends_on: [extract]
        
      - id: analyze
        agent: analyzer_agent
        input: "${validate}"
        depends_on: [validate]
        # Conditional Execution
        condition: "${validate.is_valid} == true"
        
      - id: reject
        agent: rejection_handler
        input: "Data rejected: ${validate.reason}"
        depends_on: [validate]
        condition: "${validate.is_valid} == false"
```

## üß© Variable Syntax

YAML workflows use the same variable syntax as the Python Builder.

| Syntax | Description |
| :--- | :--- |
| `${input}` | The initial input passed to `execute_workflow` |
| `${step_id}` | The string output of a previous step |
| `${step_id.field}` | Access a JSON field from a step's output |

## üèóÔ∏è Mixing YAML and Python

You can define agents in Python (to use advanced tools/memory) and orchestrate them in YAML.

**1. Register Agents in Python**
```python
# main.py
agent = await AgentBuilder("extractor_agent").openai().build()
await register_agent(agent)
```

**2. Define Flow in YAML**
```yaml
# flow.yaml
workflows:
  main_flow:
    steps:
      - extractor_agent
      - summarizer_agent
```

**3. Load & Run**
```python
# main.py
await load_yaml_workflows("flow.yaml") # Finds 'extractor_agent' in registry
```

# Complete LangSwarm Configuration
# This example shows all available configuration options

version: "1.0"
project_name: "my-complete-app"

# Core LangSwarm framework settings
langswarm:
  debug: false
  log_level: "INFO"
  config_validation: true

# Agent definitions
agents:
  - id: "main-agent"
    name: "Main Assistant"
    model: "gpt-4o"
    behavior: "helpful"
    tools: ["filesystem", "github", "dynamic-forms"]
    memory: true
    streaming: true
    max_tokens: 4000
    temperature: 0.7
    
  - id: "coding-agent"
    name: "Coding Assistant"
    model: "gpt-4o"
    behavior: "coding"
    tools: ["filesystem", "github"]
    memory: true
    streaming: false
    max_tokens: 8000
    temperature: 0.3
    
  - id: "research-agent"
    name: "Research Assistant"
    model: "gpt-4o"
    behavior: "research"
    tools: ["filesystem"]
    memory: true
    streaming: true
    max_tokens: 4000
    temperature: 0.5

# Tool configurations
tools:
  filesystem:
    type: "mcpfilesystem"
    local_mode: true
    allowed_paths: ["."]
    settings:
      max_file_size: "10MB"
      allowed_extensions: [".txt", ".md", ".py", ".js", ".json", ".yaml"]
  
  github:
    type: "mcpgithubtool"
    auto_configure: true  # Auto-detect from environment
    settings:
      default_branch: "main"
      auto_fork: false
      
  dynamic-forms:
    type: "mcpdynamicforms"
    local_mode: true
    settings:
      max_form_size: 50
      cache_schemas: true
    # Form definitions are loaded from this main config
    forms:
      settings:
        title: "User Settings"
        description: "Configure user preferences"
        fields:
          - id: "name"
            type: "text"
            label: "Display Name"
            required: true
            validation:
              min_length: 2
              max_length: 50
          - id: "email"
            type: "email"
            label: "Email Address"
            required: true
          - id: "language"
            type: "select"
            label: "Language"
            options: ["en", "es", "fr", "de"]
            default: "en"
          - id: "notifications"
            type: "toggle"
            label: "Enable Notifications"
            default: true
      
      ai_config:
        title: "AI Configuration"
        description: "Configure AI behavior and preferences"
        fields:
          - id: "response_style"
            type: "select"
            label: "Response Style"
            options: ["concise", "detailed", "balanced"]
            default: "balanced"
          - id: "code_explanation"
            type: "select"
            label: "Code Explanation Level"
            options: ["beginner", "intermediate", "expert"]
            default: "intermediate"
          - id: "proactive_suggestions"
            type: "toggle"
            label: "Proactive Suggestions"
            default: true
          - id: "follow_up_questions"
            type: "toggle"
            label: "Follow-up Questions"
            default: true

# Workflow definitions
workflows:
  - id: "main-workflow"
    name: "Main Processing Workflow"
    steps:
      - id: "analyze-input"
        agent: "main-agent"
        input: "{{user_input}}"
        output:
          save_as: "analysis_result"
      - id: "generate-response"
        agent: "main-agent"
        input: "Based on this analysis: {{analysis_result}}, provide a helpful response"
        
  - id: "code-review-workflow"
    name: "Code Review Workflow"
    steps:
      - id: "initial-review"
        agent: "coding-agent"
        input: "Review this code: {{code_input}}"
        output:
          save_as: "review_result"
      - id: "generate-suggestions"
        agent: "coding-agent"
        input: "Based on review: {{review_result}}, suggest improvements"

# Memory configuration
memory:
  enabled: true
  backend: "auto"  # Will auto-select best available backend
  settings:
    max_memory_size: "100MB"
    retention_days: 30
    embedding_model: "text-embedding-3-small"

# Advanced configurations (for complex setups)
advanced:
  # Message brokers
  brokers:
    - id: "main-broker"
      type: "internal"
      settings:
        max_queue_size: 1000
        
  # Queues
  queues:
    - id: "main-queue"
      broker: "main-broker"
      settings:
        max_size: 500
        
  # Registries
  registries:
    - id: "tool-registry"
      type: "local"
      settings:
        cache_enabled: true
        
  # Plugins
  plugins:
    - id: "logging-plugin"
      type: "logging"
      settings:
        log_level: "INFO"
        
  # Retrievers
  retrievers:
    - id: "main-retriever"
      type: "chromadb"
      settings:
        collection_name: "main"
        embedding_model: "text-embedding-3-small" 
---
title: "First Project"
description: "Build a Financial Analysis Swarm in 5 minutes"
---

# ğŸ—ï¸ First Project: Financial Analysis Swarm

Build a multi-agent system that analyzes market trends and gives investment advice.

You will create a **Swarm** of three specialized agents:
1.  **Reader**: Reads raw financial news.
2.  **Analyst**: Identifies market signals.
3.  **Advisor**: Recommends a buy/sell strategy.

## ğŸš€ The Code

Create a file named `finance_swarm.py` and paste this code:

```python
import asyncio
import os
from langswarm import create_workflow, register_agent
from langswarm.core.agents import AgentBuilder
from langswarm.core.workflows import get_workflow_engine

async def main():
    # 0. Setup (ensure OPENAI_API_KEY is set in env)
    if not os.getenv("OPENAI_API_KEY"):
        print("âŒ Please set OPENAI_API_KEY environment variable")
        return

    # 1. Build Specialized Agents
    print("ğŸ¤– Building agents...")
    
    reader = await (AgentBuilder("reader")
              .openai()
              .model("gpt-4o")
              .system_prompt("You are a financial news reader. Extract key facts from the input.")
              .build())

    analyst = await (AgentBuilder("analyst")
               .openai()
               .model("gpt-4o")
               .system_prompt("You are a market analyst. Identify bullish/bearish trends in the data.")
               .build())

    advisor = await (AgentBuilder("advisor")
               .openai()
               .model("gpt-4o")
               .system_prompt("You are an investment advisor. Recommend a strategy based on the analysis.")
               .build())

    # 2. Register Agents
    await register_agent(reader)
    await register_agent(analyst)
    await register_agent(advisor)

    # 3. Create Orchestration Workflow
    # Passing data: Reader -> Analyst -> Advisor
    workflow = create_workflow(
        workflow_id="finance_v1",
        name="Market Analysis Pipeline",
        agent_chain=["reader", "analyst", "advisor"]
    )

    # 4. Execute
    print("ğŸš€ Running Financial Analysis Swarm...")
    engine = get_workflow_engine()
    
    result = await engine.execute_workflow(
        workflow=workflow,
        input_data={"input": "Apple (AAPL) reported record services revenue but iPhone sales dipped 2%."}
    )

    print("\nğŸ“Š Final Advice:")
    print(result.output)

if __name__ == "__main__":
    asyncio.run(main())
```

## ğŸƒ Run It

```bash
python finance_swarm.py
```

**Expected Output:**

```text
ğŸ¤– Building agents...
ğŸš€ Running Financial Analysis Swarm...

ğŸ“Š Final Advice:
Based on the analysis of Apple's mixed earnings report... [Analysis follows] ... 
Recommendation: HOLD. The dip in iPhone sales suggests caution, but services growth remains a strong bullish signal long-term.
```

## ğŸ§  How It Works

1.  **AgentBuilder**: We used the fluent builder pattern to create three distinct agents with unique `system_prompts`.
2.  **Registration**: `register_agent` makes them available to the swarm.
3.  **Orchestration**: `create_workflow` binds them into a sequential chain. The output of the `reader` automatically becomes the input of the `analyst`, and so on.
4.  **Execution**: The `WorkflowEngine` manages the async execution, error handling, and data passing.

## ğŸ“š Next Steps

<CardGroup cols={2}>
  <Card title="Add Tools" icon="screwdriver-wrench" href="/user-guides/tools">
    Give your agents access to real-time stock prices or web search.
  </Card>
  <Card title="Persistent Memory" icon="database" href="/user-guides/memory">
    Enable Long-term memory to track trends over months.
  </Card>
</CardGroup>

version: "2.0"
name: "Document Analysis System"
description: "Multi-agent document analysis and summarization"

agents:
  - id: "document_reader"
    name: "Document Reader"
    provider: "openai"
    model: "gpt-4o"
    system_prompt: |
      You are a document reader specialist. Read the input text and extract the raw content cleanly.

  - id: "analyzer"
    name: "Content Analyzer" 
    provider: "openai"
    model: "gpt-4o"
    system_prompt: |
      You are a content analysis expert. Analyze the input for key themes and facts.

  - id: "summarizer"
    name: "Summary Generator"
    provider: "openai"
    model: "gpt-4o"
    system_prompt: |
      You are a summary specialist. Create a concise summary of the analysis.

tools:
  filesystem:
    type: "mcp"
    local_mode: true
    description: "Read and write files"

workflows:
  - id: "document_analysis"
    name: "Document Analysis Pipeline"
    description: "Complete document analysis"
    steps:
      - id: "read_step"
        agent: "document_reader"
        tools: ["filesystem"]
        description: "Read and parse the document" # Note: In a real run, the agent needs instructions or input to know WHAT to read. The simplistic example might fail if input isn't passed correctly.
        
      - id: "analyze_step"
        agent: "analyzer"
        input: "${read_step.output}"
        description: "Analyze content"
        
      - id: "summarize_step"
        agent: "summarizer"
        input: "${analyze_step.output}"
        description: "Generate summary"
        output: 
          to: "user"

memory:
  backend: "sqlite"
  settings:
    persist_directory: "./data"
